# LordRabbit - Project Configuration and Build Tool
## Introduction
LordRabbit is a project configuration and build tool developed with the [OX language](https://gitee.com/gongke1978/ox).
Its functionality is similar to "GNU autotools" and "CMake".
## Installation
LordRabbit can be installed using OX's package manager.
```
ox -r pm -s lordrabbit
```
Run the following command to print the help information for the "lordrabbit" program:
```
lordrabbit --help
```
## Example
We create a C language file "test.c" with the following content:
```
/*test.c*/
#include <stdio.h>

int main (int argc, char **argv)
{
    printf("hello, world!\n");
    return 0;
}
```
In the same directory, we create an "lrbuild.ox" file:
```
ref "lordrabbit" //Reference the lordrabbit package

assert_h("stdio.h") //Check for the header file "stdio.h", exit with an error if not found

//Generate the executable program "test"
build_exe({
    name: "test"
    srcs: [
        "test.c" //Source file
    ]
})

```
Run the following command to configure:
```
lordrabbit
```
The terminal prints:
```
check "make": /usr/bin/make
load "lrbuild.ox"
check "stdio.h": stdio.h
check "gcc": /usr/bin/gcc
generate "Makefile"
```
"lordrabbit" automatically detects the programs, header files, and libraries that the project depends on, and finally generates a "Makefile" file.

Run "make" to build the project:
```
make

CC   out/intermediate/test-exe-test.o <- test.c
EXE  out/bin/test <- out/intermediate/test-exe-test.o
```
You can see that the executable program "test" is compiled and generated in the "out/bin" directory.
## Basic Concepts
### lrbuild.ox
"lrbuild.ox" is a configuration and build description file written by the user. The "lordrabbit" program will load the "lrbuild.ox" file in the current directory,
configure according to the file description, and generate a "Makefile" file.

"lrbuild.ox" is a script written in the [OX language](https://gitee.com/gongke1978/ox).
The script starts with a reference statement to reference the "lordrabbit" package:
```
ref "lordrabbit"
```
Later in the script, functions provided by "lordrabbit" are called to describe the configuration and build method of the project.
### Output Directory
Files generated by the build are placed in the output directory, and the default output directory is the "out" subdirectory under the current directory.

The "lordrabbit" program can modify the output directory through the "-o" option.
### Intermediate File Directory
Some intermediate files, such as ".o" and ".dep" files, are generated during the build process. These files are placed in the "intermediate" subdirectory under the output directory.
### Installation Directory
Running the "make install" command can install the build products into the system. The installation directory is the root directory where the products are installed.
For example, if the installation directory is "/usr/local", executable programs will be installed to the "/usr/local/bin" directory, and library files will be installed to the "/usr/local/lib" directory.

The default installation directory is "/usr". The "lordrabbit" program can modify the installation directory through the "--instdir" option.
When performing "make install", the installation directory can also be modified by setting the parameter "INST":
```
make install INST=/home/zhangsan
```
### Toolchain
A toolchain is a collection of compilation-related tools such as compilers/linkers. "lordrabbit" currently supports two toolchains:

* gnu: GNU gcc/g++/ld and other tools
* gnu-clang: Use the GNU toolchain, but use clang and clang++ as compilers

## Functions
"lordrabbit" provides a set of functions to help users configure and build projects.
### build_exe
Build an executable program.

The function parameter is an object that describes the build method of the executable program. The parameter object can contain the following attributes:

|Attribute|Type|Optional|Description|
|:-|:-|:-|:-|
|name|String|No|Name of the executable program|
|srcs|[String]|No|List of source files|
|incdirs|[String]|Yes|Header file search directories|
|macros|[String]|Yes|Macros defined via the command line|
|libdirs|[String]|Yes|Library search directories|
|libs|[String]|Yes|Libraries that the executable program needs to link against|
|cflags|String|Yes|Compiler flags|
|ldflags|String|Yes|Linker flags|
|pcs|[String]|Yes|Modules that the executable program needs to link against via "pkg-config"|
|instdir|String|Yes|Installation directory of the executable program|

Example:
```
build_exe({
    name: "test"
    srcs: [
        "test.c"
    ]
    incdirs: [
        "/usr/include/ext"
    ]
    macros: [
        "ENABLE_TEST"
        "VERSION=1"
    ]
    libdirs: [
        "/usr/lib/ext"
    ]
    libs: [
        "ext"
        "m"
        "dl"
    ]
    cflags: "-Wall -O2 -flto"
    ldflags: "-flto"
})
```
In the generated "Makefile", the following command will be generated to compile the object file "test-exe-test.o":
```
gcc -c -o out/intermediate/test-exe-test.o test.c -I/usr/include/ext -DENABLE_TEST -DVERSION=1 -Wall -O2 -flto
```
The following command is generated to link and create the executable program "test":
```
gcc -o out/bin/test out/intermediate/test-exe-test.o -L/usr/lib/ext -lext -lm -ldl -flto
```
Note that the executable program name should not include the extension part. "lordrabbit" will automatically add the extension according to the target platform of generation.
For example, if the executable program name is "test", "lordrabbit" will generate the executable program file "test" under Linux, and "test.exe" under Windows.

"srcs" defines an array of source files, where each source file is represented as a relative path name. If the source file string starts with "+", the relative path is rooted at the output directory.
If the source file string starts with "-", the relative path is rooted at the intermediate file directory. For example:
```
build_exe({
    name: "test"
    srcs: [
        "test.c"          //"./test.c"
        "+generated.c"    //"out/generated.c"
        "-intermediate.c" //"out/intermediate/intermediate.c"
    ]
})
```
"libs" defines an array of linked libraries, where each linked library name should not include the "lib" prefix and extension. For example, if the executable program needs to link "libm.so", the library name should be written as "m".

"pcs" indicates that the executable program depends on modules in "pkg-config". "lordrabbit" will obtain the compiler flags and linker flags corresponding to the modules by running the "pkg-config" program.
The module string format is "module name:version number". The part before the colon is the "pkg-config" module name, and the part after the colon is the minimum version number of the required module. If there is no ":version number" part,
"lordrabbit" will not check the version of the module.

"instdir" indicates the installation subdirectory name of the executable program. When running "make install", the generated executable program is installed to this subdirectory under the installation directory.
If "instdir" is not set, the default subdirectory is "bin". If "instdir" is set to "none", it means this executable program does not need to be installed.

"incdirs" and "libdirs" indicate the header file search directories and library file search directories. If the directory string starts with "+", the string is a directory name rooted at the output directory.
If the directory string starts with "-", the string is a directory name rooted at the intermediate file directory.
### build_lib
Build a library file.

The function parameter is an object that describes the build method of the library. The parameter object can contain the following attributes:

|Attribute|Type|Optional|Description|
|:-|:-|:-|:-|
|name|String|No|Library name|
|srcs|[String]|No|List of source files|
|incdirs|[String]|Yes|Header file search directories|
|macros|[String]|Yes|Macros defined via the command line|
|libdirs|[String]|Yes|Library search directories|
|libs|[String]|Yes|Libraries that the library needs to link against|
|cflags|String|Yes|Compiler flags|
|ldflags|String|Yes|Linker flags|
|pcs|[String]|Yes|Modules that the library needs to link against via "pkg-config"|
|instdir|String|Yes|Installation directory of the library|
|version|String|Yes|Interface version of the dynamic library|

Example:
```
build_lib({
    name: "test"
    srcs: [
        "test.c"
    ]
    incdirs: [
        "/usr/include/ext"
    ]
    macros: [
        "ENABLE_TEST"
        "VERSION=1"
    ]
    libdirs: [
        "/usr/lib/ext"
    ]
    libs: [
        "ext"
        "m"
        "dl"
    ]
    cflags: "-Wall -O2 -flto"
    ldflags: "-flto"
})
```
In the generated "Makefile", the following command will be generated to compile the object file "test-lib-test.o":
```
gcc -c -o out/intermediate/test-lib-test.o test.c -fPIC -I/usr/include/ext -DENABLE_TEST -DVERSION=1 -Wall -O2 -flto
```
The following command is generated to create the dynamic link library:
```
gcc -o out/lib/libtest.so out/intermediate/test-lib-test.o -shared -L/usr/lib/ext -lext -lm -ldl -flto
```
The following command is generated to create the static link library:
```
ar rcs out/lib/libtest.a out/intermediate/test-lib-test.o
ranlib out/lib/libtest.a
```
Note that the library name should not include the "lib" prefix and extension part. "lordrabbit" will automatically complete the library file name.

"srcs" defines an array of source files, where each source file is represented as a relative path name. If the source file string starts with "+", the relative path is rooted at the output directory.
If the source file string starts with "-", the relative path is rooted at the intermediate file directory.

"libs" defines an array of linked libraries, where each linked library name should not include the "lib" prefix and extension. For example, if the executable program needs to link "libm.so", the library name should be written as "m".

"pcs" indicates that the library depends on modules in "pkg-config". "lordrabbit" will obtain the compiler flags and linker flags corresponding to the modules by running the "pkg-config" program.
The module string format is "module name:version number". The part before the colon is the "pkg-config" module name, and the part after the colon is the minimum version number of the required module. If there is no ":version number" part,
"lordrabbit" will not check the version of the module.

"instdir" indicates the installation subdirectory name of the library file. When running "make install", the generated library file is installed to this subdirectory under the installation directory.
If "instdir" is not set, the default subdirectory is "lib". If "instdir" is set to "none", it means this library file does not need to be installed.

"incdirs" and "libdirs" indicate the header file search directories and library file search directories. If the directory string starts with "+", the string is a directory name rooted at the output directory.
If the directory string starts with "-", the string is a directory name rooted at the intermediate file directory.

"version" is the interface version of the dynamic library. For example:
```
build_lib({
    name: "test"
    srcs: [
        "test.c"
    ]
    version: "1"
})
```
Under Linux, the dynamic link library generated by the above description is named "libtest.so.1", and the linker adds an option to specify the soname as "libtest.so.1".
At the same time, "lordrabbit" creates a symbolic link "libtest.so" pointing to "libtest.so.1".

Under Windows, the dynamic link library generated by the above description is named "libtest-1.dll".

"lordrabbit" will generate both static and dynamic link libraries. If the user only wants to generate a dynamic link library, the function "build_dlib" can be used.
If the user only wants to generate a static link library, the function "build_slib" can be used.
### gen_file
Generate a file using a tool.

The function parameter is an object that describes the generation method of the file. The parameter object can contain the following attributes:

|Attribute|Type|Optional|Description|
|:-|:-|:-|:-|
|name|String|No|Name of the generated file|
|srcs|[String]|Yes|List of source files|
|instdir|String|Yes|Installation directory of the generated file|
|cmd|String|No|Command to generate the file|

Example:
```
gen_file({
    name: "generated.c"
    srcs: [
        "generator.ox"
    ]
    cmd: "ox $< > $@"
})
```
The "srcs" attribute specifies the source files that the generated target file depends on. If the source file string starts with "+", the relative path is rooted at the output directory.
If the source file string starts with "-", the relative path is rooted at the intermediate file directory.

The "cmd" attribute specifies the command to generate the file. Some special markers can be added to it:

|Marker|Description|
|:-|:-|
|$@|Generated file name|
|$<|First source file name|
|$^|All source file names, separated by spaces|
|$N|N is a decimal number, representing the Nth source file name|
|$$|Replaced with "$"|

"instdir" indicates the installation subdirectory name of the generated file. After setting the "instdir" attribute, the generated file is placed in the output directory.
When running "make install", the generated library file is installed to the subdirectory under the installation directory.
If "instdir" is not set, or "instdir" is set to "none", it means this library file does not need to be installed, and the generated file is placed in the intermediate file directory at this time.
### install
Specify additional files to be installed.

The function parameter is an object, which can contain the following attributes:

|Attribute|Type|Optional|Description|
|:-|:-|:-|:-|
|srcs|[String]|Yes|List of files to be installed|
|instdir|String|No|Installation directory of the files|

Example:
```
install({
    instdir: "include"
    srcs: [
        "my_header1.h"
        "my_header2.h"
    ]
})
```
The above description indicates that the two header files "my_header1.h" and "my_header2.h" need to be installed to the "include" directory. When the user runs "make install",
the two header files are installed to the "/usr/include" directory of the system.
### subdirs
Load the "lrbuild.ox" in subdirectories.

A project can be divided into multiple submodules, each placed in a subdirectory. An independent "lrbuild.ox" can be used in each subdirectory to describe the configuration and build method of the submodule.
The "subdirs" function is used to load the "lrbuild.ox" files in subdirectories.

The "subdirs" parameter is an array representing all subdirectories containing the "lrbuild.ox" file. For example:
```
subdirs([
    "sub1"
    "sub2"
])
```
The above description loads two submodule descriptions: "sub1/lrbuild.ox" and "sub2/lrbuild.ox".
### define
Add a global macro definition.

The function parameter is a string representing the macro definition to be added.

Example:
```
define("ENABLE_TEST")
define("CONFIG_VALUE=1978")
```
The above declarations add the "-DENABLE_TEST -DCONFIG_VALUE=1978" flags to each command for compiling ".o" files in the generated Makefile.
### undef
Cancel a global macro definition.

The function parameter is a string representing the name of the macro to be canceled.

Example:
```
define("ENABLE_TEST")
define("CONFIG_VALUE=1978")
undef("CONFIG_VALUE")
```
In the generated Makefile, only the "-DENABLE_TEST" part is retained in the command for compiling ".o" files.
### add_incdir
Add a global header file search directory.

The function parameter is a string representing the new header file search directory to be added.

Example:
```
add_incdir("/usr/include/SDL")
```
In the generated Makefile, the "-I/usr/include/SDL" flag is added to the command for compiling ".o" files.
### add_libdir
Add a global library file search directory.

The function parameter is a string representing the new library file search directory to be added.

Example:
```
add_libdir("/home/zhangsan/lib")
```
In the generated Makefile, the "-L/home/zhangsan/lib" flag is added to the linking command.
### add_lib
Add a global linked library.

The function parameter is a string representing the name of the new library to be added.

Example:
```
add_lib("pthread")
add_lib("m")
```
In the generated Makefile, the "-lpthread -lm" flags are added to the linking command.
### add_cflags
Add global compiler flags.

The function parameter is a string representing the new compiler flags to be added.

Example:
```
add_cflags("-Wall")
add_cflags("-O2")
```
In the generated Makefile, the "-Wall -O2" flags are added to the command for compiling ".o" files.
### add_ldflags
Add global linker flags.

The function parameter is a string representing the new linker flags to be added.

Example:
```
add_ldflags("-flto")
```
In the generated Makefile, the "-flto" flag is added to the linking command.
### pc_cflags
Obtain the compiler flags of a "pkg-config" module.

The parameter is the "pkg-config" module name.

The return value is the compiler flag string of the module.

Example:
```
add_cflags(pc_cflags("sdl")) //Add the compiler flags of the "sdl" module
```
### pc_libs
Obtain the linker flags of a "pkg-config" module.

The parameter is the "pkg-config" module name.

The return value is the linker flag string of the module.

Example:
```
add_ldflags(pc_libs("sdl")) //Add the linker flags of the "sdl" module
```
### failed
Exit the configuration process with an error.

Example:
```
failed("error!")
```
When this statement is executed, "lordrabbit" will throw an exception and exit.
### have_h
Check whether the required header file can be found in the current environment. "lordrabbit" will try to use the toolchain to test whether compiling with the inclusion of this header file is successful.
The current global "incdirs", "macros", and "cflags" are automatically used in the compilation process of the test.

The parameter can be:

* String: Represents the header file name
* Object: Represents the header file test environment settings, including the following attributes:
    - name: Header file name
    - cflags: Compilation flags for the test
    - incdirs: Header file search directories for the test
    - macros: Macro definitions for the test
    - pcs: pkg-config modules dependent on the test
    - cxx: Whether to use the C++ compiler for the test

The function returns a boolean value indicating whether the header file can be found.

Example:
```
//Detect whether "pthread.h" is available in the current environment, and define a macro if available.
if have_h("pthread.h") {
    define("HAVE_PTHREAD_H")
}
```
### assert_h
Check whether the required header file can be found in the current environment, and exit with an error if not found.

Example:
```
assert_h("pthread.h") //Exit with an error if "pthread.h" is not available
```
### have_lib
Check whether the required library can be linked in the current environment. "lordrabbit" will try to use the toolchain to test whether linking the library is successful.
The current global "incdirs", "macros", "cflags", "libdirs", "libs", and "ldflags" are automatically used in the test process.

The parameter can be:

* String: Represents the library name
* Object: Represents the test environment settings, including the following attributes:
    - name: Library name
    - cflags: Compilation flags for the test
    - incdirs: Header file search directories for the test
    - macros: Macro definitions for the test
    - libdirs: Library search directories for the test
    - libs: Libraries to be linked during the test
    - ldflags: Linker flags for the test
    - pcs: pkg-config modules dependent on the test
    - cxx: Whether to use the C++ compiler for the test

The function returns a boolean value indicating whether the library file can be successfully linked.

Example:
```
if have_lib("pthread") {
    add_lib("pthread")
}
```
The above statement detects if the "libpthread" library is available and adds it to the global linked library list.
```
if !have_lib({
    name: "test"
    libdirs: [
        "/usr/zhangshan/lib"
    ]
}) {
    failed("cannot find libtest")
}
```
The above statement searches for an available "libtest" library in the "/usr/zhangshan/lib" directory and exits with an error if not found.
### assert_lib
Check whether the required library can be linked in the current environment, and exit with an error if not found.

Example:
```
assert_lib("pthread") //Verify whether the available "libpthread" library exists currently, exit with an error if not.
```
### have_macro
Check whether the specified macro is defined in the current environment. "lordrabbit" will try to use the toolchain to test whether the macro is defined.
The current global "incdirs", "macros", and "cflags" are automatically used in the compilation process of the test.

The parameter can be:

* String: Represents the macro name
* Object: Represents the macro test environment settings, including the following attributes:
    - name: Macro name
    - cflags: Compilation flags for the test
    - incdirs: Header file search directories for the test
    - macros: Macro definitions for the test
    - pcs: pkg-config modules dependent on the test
    - cxx: Whether to use the C++ compiler for the test

The function returns a boolean value indicating whether the macro is defined.

Example:
```
//Detect whether the target platform is Windows through the macro "WIN32"
if have_macro("WIN32") {
    failed("do not support windows")
}
```
### assert_macro
Check whether the specified macro is defined in the current environment, and exit with an error if not defined.

Example:
```
assert_macro("__GNUC__") //Check the macro "__GNUC__", exit if not defined
```
### have_func
Check whether the specified function is defined in the current environment. "lordrabbit" will try to use the toolchain to test whether the function call can be compiled and linked normally.
The current global "incdirs", "macros", "cflags", "libdirs", "libs", and "ldflags" are automatically used in the test process.

The parameter can be:

* String: Function name
* Object: Represents the test environment settings, which can include the following attributes:
    - name: Function name
    - cflags: Compilation flags for the test
    - incdirs: Header file search directories for the test
    - macros: Macro definitions for the test
    - libdirs: Library search directories for the test
    - libs: Libraries to be linked during the test
    - ldflags: Linker flags for the test
    - pcs: pkg-config modules dependent on the test
    - src: Test source code
    - cxx: Whether to use the C++ compiler for the test

Returns a boolean value indicating whether the function is defined.

Example:
```
//Detect whether the function printf is available
if have_func("printf") {
    define("HAVE_PRINTF")
}

//Detect whether the function realpath is available
if have_func({
    name: "realpath"
    src: ''
#include <limits.h>
#include <stdlib.h>
int main (int argc, char **argv) {
    char buf[PATH_MAX];
    char *r;
    r = realpath("/test", buf);
    return 0;
}
    ''
}) {
    failed("cannot find realpath")
}
```
### assert_func
Check whether the specified function is defined in the current environment, and exit with an error if not defined.

Example:
```
assert_func("printf") //The "printf" function must be defined, otherwise exit
```
### have_pc
Check whether the "pkg-config" module is installed. "lordrabbit" will try to check whether the module is installed through the "pkg-config" tool.

The parameter is a string in the format of "module name:version". If the ":version" part does not exist, only check whether the module is installed. If the ":version" part exists, check whether the installed version is greater than or equal to the specified minimum version.

Returns a boolean value indicating whether the module is installed and meets the minimum version requirement.

Example:
```
//Detect whether the "SDL" module is installed
if have_pc("SDL") {
    define("HAVE_SDL")
}

//Detect whether the version of the "SDL" module is >=1.2.68
if !have_pc("SDL:1.2.68") {
    failed("cannot find SDL(>=1.2.68)")
}
```
### assert_pc
Check whether the "pkg-config" module is installed, and exit with an error if not installed.

Example:
```
//Ensure that the version of the "SDL" module is >=1.2.68
assert_pc("SDL:1.2.68")
```
### have_exe
Check whether the executable program exists. "lordrabbit" will search for the existence of the specified executable program according to the environment variable "PATH".

The parameter is a string representing the name of the executable program.

The return value is a boolean value indicating whether the executable program exists.

Example:
```
//Detect whether the program "ox" exists.
if have_exe("ox") {
    define("HAVE_OX")
}
```
### assert_exe
Check whether the executable program exists, and exit with an error if not exists.
```
assert_exe("ox") //The executable program "ox" must be installed
```
### add_option
Add project options.

A project can specify multiple project-specific options. Users can set these project-specific options through the "-s" option when running the "lordrabbit" program.

The function parameter is an object, where the attribute names of the object represent the option names, and the attribute value objects represent the definitions of the corresponding options. The option object definition includes the following attributes:

* type: Option type. Can be the following values:
    - "boolean": Boolean value
    - "number": Numeric value
    - "integer": Integer value
    - String array: Represents an enumeration value, where the array elements represent the optional values of the option
* default: Default value of the option. If the user does not set this option through "-s" on the command line, its value is the default value.
* desc: Description information of the option.

Example:
```
add_option({
    debug: {
        type: "boolean"
        default: false
        desc: "enable debug information"
    }
    mail: {
        type: "string"
        default: "zhangsan@ox.org"
        desc: "email address of author"
    }
    version: {
        type: "integer"
        default: 0
        desc: "version number"
    }
    model: {
        type: ["small", "normal", "large"]
        default: "normal"
        desc: "system model select"
    }
})
```
In "lrbuild.ox", the project option values can be accessed through the object "option". For example, after adding the above defined options, the options can be accessed in the following way:
```
if option.debug {
    add_cflags("-g")
}

define("MAIL=\"{option.mail}\"")
define("VERSION={option.version}")

case option.model {
"small" {
    define("MODEL_SIZE=256")
}
"normal" {
    define("MODEL_SIZE=512")
}
"large" {
    define("MODEL_SIZE=1024")
}
}
```
The "add_option" function call usually appears at the beginning of the "lrbuild.ox" file.

### config_h
Output global macro definitions to a header file.

Usually, users define many global macros through the "define" function during the configuration process. "lordrabbit" will place these macros in the command line for compiling ".o" objects in the "Makefile" file.
If the "config_h" function is called, these global macro definitions will be written to a header file instead of appearing in the command line of the "Makefile" file. At this time, the source file obtains the global macro definitions by including this header file.

Usually, the "config_h" call should appear at the end of the "lrbuild.ox" file.

The parameter is a string indicating the header file name. If the string starts with "+", the file is in the output directory. If the string starts with "-", the file is in the intermediate file directory.
If no parameter is given, the default file name is "config.h".
## lordrabbit Options
The "lordrabbit" program supports the following options:

|Option|Parameter|Description|
|:-|:-|:-|
|-D|MACRO[=VALUE]|Add a global macro definition|
|-I|DIR|Add a global header file search directory|
|-L|DIR|Add a global library file search directory|
|--cflags|FLAGS|Set global compiler flags|
|-d|DIR|Set output directory|
|-f|make|Set output file format. Currently only "make" (GNU make's Makefile) is supported|
|-g|None|Compile products with debug information|
|--help|None|Display help information|
|--instdir|DIR|Set installation directory|
|-l|LIB|Add a global linked library|
|--ldflags|FLAGS|Set global linker flags|
|--listopt|None|List all options of the current project|
|--nocache|None|Do not use cache files, re-perform detection|
|-o|FILE|Set output file name|
|-s|NAME[=VALUE]|Set an option of the current project|
|--toolchain|gnu\|gnu-clang|Set the toolchain to use. Currently supports GNU+GCC and GNU+clang|
|--xprefix|PREFIX|Set cross-compilation toolchain prefix. For example, set "--xprefix i686-w64-mingw32" to select the MinGW64 cross-compilation toolchain|

## Makefile Parameters
The "Makefile" generated by "lordrabbit" supports the following parameters, which can be set when running the "make" command:

|Parameter|Description|
|:-|:-|
|Q|Default is "Q=@" which means quiet mode. Set "Q=" to enable intermediate print information|
|O|Modify output directory|
|INST|Modify installation directory|
|CFALGS|Add global compiler flags|
|LDFALGS|Add global linker flags|

## Makefile Targets
The "Makefile" generated by "lordrabbit" contains the following special targets, which can achieve some special operations through "make target":

|Parameter|Description|
|:-|:-|
|all|Default target, generate all products specified in "lrbuild.ox" that need to be installed|
|install|Install all files that need to be installed as defined in "lrbuild.ox" to the installation directory|
|uninstall|Remove installed files from the installation directory|
|clean|Remove all products specified in "lrbuild.ox" that need to be installed under the output directory|
|cleanall|Remove all products specified in "lrbuild.ox" that need to be installed, generated files, object files, and dependency files under the output directory|
|cleanout|Remove the entire output directory|